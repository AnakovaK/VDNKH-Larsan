{% extends 'app_main/base.html' %}
{% load static %}

{% block title %}
<title>Карта</title>
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/map.css' %}">
{% block map_extra_css %}
{% endblock %}
{% endblock %}

{% block content %}
<div class="wrapper">
  <div class="content">
    {% block map_top %}
    <div class="top">
      <div class="container-fluid">
        <h1 class="page-title">{% block map_title %}Карта{% endblock %}</h1>
      </div>
    </div>
    {% endblock %}
    {% block map_detail %}
    <section class="section">
      <div class="container-fluid">
        <a href="{% url 'route-list' %}" style="text-decoration: underline;">Перейти к маршрутам</a>
        {% if request.user.is_authenticated %}
        <a href="{% url 'profile' user.id %}" style="text-decoration: underline;">Построить свой маршрут</a>
        {% else %}
        <h2>Авторизуйтесь на сайте, чтобы создавать свои маршруты!</h2>
        <a href="{% url 'login' %}">Войти</a>
        <p>Нет учётной записи? <a href="{% url 'sign-up' %}">Зарегистрируйтесь!</a></p>
        {% endif %}
      </div>
    </section>
    {% endblock %}
  </div>
  <div class="map" id="map" style="margin-top: 105px"></div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/jquery-3.6.1.js' %}"></script>
<script src="{% static 'js/congestions.js' %}"></script>
<script src="{% static 'js/heatmap.js' %}"></script>
<script src="{% static 'js/congestion_operator.js' %}"></script>
<script src="{% static 'js/routesObject.js' %}"></script>
<script src="{% static 'js/places.js' %}"></script>
<script src="{% static 'js/customroute.js' %}"></script>
{% endblock %}